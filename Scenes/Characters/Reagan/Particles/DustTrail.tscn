[gd_scene load_steps=7 format=3 uid="uid://1xcmmoprofqb"]

[sub_resource type="Gradient" id="Gradient_1nhru"]
offsets = PackedFloat32Array(0, 0.818182, 0.981818)
colors = PackedColorArray(0, 0, 0, 1, 0, 0, 0, 0.772549, 0, 0, 0, 0)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_lkncj"]
gradient = SubResource("Gradient_1nhru")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_7cxwk"]
emission_shape_scale = Vector3(1, 0, 1)
emission_shape = 2
emission_sphere_radius = 0.1
angle_min = -20.0
angle_max = 20.0
direction = Vector3(0, 0, 0)
initial_velocity_min = -0.5
initial_velocity_max = -0.5
gravity = Vector3(0, -20, 0)
linear_accel_min = -5.0
linear_accel_max = -5.0
color = Color(0, 0, 0, 1)
color_ramp = SubResource("GradientTexture1D_lkncj")
collision_mode = 1
collision_friction = 0.1
collision_bounce = 0.5

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_q5e4g"]
transparency = 1
vertex_color_use_as_albedo = true
albedo_color = Color(0, 0, 0, 1)

[sub_resource type="SphereMesh" id="SphereMesh_1c54m"]
material = SubResource("StandardMaterial3D_q5e4g")
radius = 0.1
height = 0.2

[sub_resource type="GDScript" id="GDScript_5b1xm"]
script/source = "extends GPUParticles3D


# Called when the node enters the scene tree for the first time.
func _ready():
	one_shot = true
	#pass

func set_velocity_direction(v : Vector3):
	var pm = process_material
	pm.direction = v

func set_velocity(v : float):
	var pm = process_material
	pm.initial_velocity_min = pm.initial_velocity_min + v
	pm.initial_velocity_max = pm.initial_velocity_max + v

# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta):
	pass
"

[node name="DustTrail" type="Node3D"]

[node name="Particle" type="GPUParticles3D" parent="."]
layers = 2
amount = 4
lifetime = 0.5
process_material = SubResource("ParticleProcessMaterial_7cxwk")
draw_pass_1 = SubResource("SphereMesh_1c54m")
script = SubResource("GDScript_5b1xm")
